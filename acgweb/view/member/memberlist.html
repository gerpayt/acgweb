{% extends "layout.html" %}


{% block body %}

<div class="page-header">
  <h1>成员列表</h1>
</div>

<table class="table table-striped">
  <tr><th>学号</th><th>姓名</th><th>性别</th><th>专业</th><th>电话号码</th><th>电话短号</th><th>QQ</th><th>邮箱</th><th>住址</th><th>最近登陆</th></tr>
  {% for member in member_list %}
  <tr><td>{{ member.uid }}</td>
      <td><a href="{{ url_for('memberdetail', member_uid=member.uid) }}">{{ member.name }}</a></td>
      <td>{{ member.sex|sexname }}</td><td>{{ member.school }}</td>
      <td>{{ member.mobile_num }}</td><td>({{ member.mobile_type|mobiletypename() }}){{ member.mobile_short }}</td>
      <td>{{member.qqnum}}</td><td>{{member.email}}</td><td>{{ member.address }}</td>
      <td><span title="{{member.lastlogin_time|timeformat('%Y-%m-%d %H:%M:%S')}}">{{member.lastlogin_time|friendlytime}}</span></td>
      </tr>
  {% endfor %}
</table>

{% if page_count > 1 %}
<div class="pagination pagination-centered">
  <ul>
  <li{% if page_current == 1 %} class="active"{% endif %}>
      <a href="{% if page_current == 1 %}javascript:void(0);{% else %}{{ url_for('memberlist',pagenum=page_current-1) }}{% endif %}">&laquo;</a></li>
  {% for page in range(1,page_count+1) %}
  <li{% if page == page_current %} class="active"{% endif %}>
      <a href="{{ url_for('memberlist',pagenum=page) }}">{{ page }}</a></li>
  {% endfor %}
  <li{% if page_current == page_count %} class="active"{% endif %}>
      <a href="{% if page_current == page_count %}javascript:void(0);{% else %}{{ url_for('memberlist',pagenum=page_current+1) }}{% endif %}">&raquo;</a></li>
  </ul>
</div>
{% endif %}

{% endblock %}
